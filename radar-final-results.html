<!DOCTYPE html>
<html>
<head>
  <!-- Site made with Mobirise Website Builder v4.0.9, https://mobirise.com -->
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="generator" content="Mobirise v4.0.9, mobirise.com">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="shortcut icon" href="assets/images/logo-de-luniversit-de-this-284x287.png" type="image/x-icon">
  <meta name="description" content="Visualisation de toutes les données collectées">
  <title>Diagrammes radar - Vue Globale</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Rubik:300,300i,400,400i,500,500i,700,700i,900,900i">
  <link rel="stylesheet" href="assets/web/assets/mobirise-icons/mobirise-icons.css">
  <link rel="stylesheet" href="assets/tether/tether.min.css">
  <link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css">
  <link rel="stylesheet" href="assets/dropdown/css/style.css">
  <link rel="stylesheet" href="assets/theme/css/style.css">
  <link rel="stylesheet" href="assets/mobirise/css/mbr-additional.css" type="text/css">
  <style type="text/css">
  .axis {
      font: 28px sans-serif;
    }
    .axis path,
    .axis line {
      fill: none;
      stroke: #D4D8DA;
      stroke-width: 2px;
    }
    .graphe,#field1,#field2,#field3 {
      position: relative;
      display: inline-block;
    }
    div.tooltip { 
        position: absolute;     
        text-align: center;     
        width: auto;          
        height: auto;         
        padding: 2px;       
        font: 12px sans-serif;
        border-radius: 8px;     
        pointer-events: none;     
    }
    </style>
    
  
</head>
<body>
<script src="script/d3.v5.min.js"></script>
    <script src="script/jquery.min.js"></script>
    <script src="script/bootstrap.min.js"></script>
<section class="menu cid-rXleubWmmO" id="menu1-8" data-rv-view="171">
    
    


    <nav class="navbar navbar-dropdown align-items-center navbar-fixed-top navbar-toggleable-sm bg-color transparent">
        <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <div class="hamburger">
                <span></span>
                <span></span>
                <span></span>
                <span></span>
            </div>
        </button>
        <div class="menu-logo">
            <div class="navbar-brand">
                <span class="navbar-logo">
                    <a href="/msda-visualisation">
                         <img src="assets/images/logo-de-luniversit-de-this-284x287.png" alt="Mobirise" title="" media-simple="true">
                    </a>
                </span>
                <span class="navbar-caption-wrap">
                    <a class="navbar-caption display-4 text-primary" href="/msda-visualisation">                        MSDA</a>
                </span>
            </div>
        </div>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav nav-dropdown display-4 nav-right" data-app-modern-menu="true">
                <li class="nav-item dropdown open">
                    <a class="nav-link link dropdown-toggle text-primary"  data-toggle="dropdown-submenu" aria-expanded="true"><span class="mbri-growing-chart mbr-iconfont mbr-iconfont-btn"></span>&nbsp;Diagrammes</a><div class="dropdown-menu"><div class="dropdown"><a class="dropdown-item dropdown-toggle text-primary" href="#" data-toggle="dropdown-submenu" aria-expanded="false">Barres</a><div class="dropdown-menu dropdown-submenu"><a class="dropdown-item text-primary" href="bars-charts-donnees-brutes.html">Données brutes</a><a class="dropdown-item text-primary" href="general-bars-charts.html">Uniformisation</a><a class="dropdown-item text-primary" href="categorisation-bars-charts.html">Catégorisation</a><a class="dropdown-item text-primary" href="final-position.html">Position finale</a></div></div><div class="dropdown"><a class="dropdown-item dropdown-toggle text-primary" href="#" data-toggle="dropdown-submenu" aria-expanded="false">Radars</a><div class="dropdown-menu dropdown-submenu"><a class="dropdown-item text-primary" href="general-radar-charts.html">Vue globale</a><a class="dropdown-item text-primary" href="categorisation-radar-charts.html">Vue par secteur</a><a class="dropdown-item text-primary" href="radar-final-results.html">Position finale</a></div></div></div>
                </li>
                <li class="nav-item">
                    <a class="nav-link link text-primary" href="https://github.com/louisisaacdiouf/Visualisation-donnees-CEDEAO-final-version" target="_blank"><span class="mbri-github mbr-iconfont mbr-iconfont-btn"></span>Github</a>
                </li>
            </ul>
            
        </div>
    </nav>
</section>

<section class="cid-rXlyUuoujv" id="image1-a" data-rv-view="173" style="padding-top: 120px;padding-right: 10px;padding-left: 10px;">

    <div class="container-fluid">
      <div class="row">
        <div class="col-md-8 col-sm-12 col-xs-12 col-lg-10">
          <h2 class="text-left">Visualisation de l'économie dans l'espace CEDEAO</h2>
        </div>
        <a class="btn btn-md btn-primary-outline btn-primary" href="/msda-visualisation/categorisation-radar-charts.html"><span class="mbri-left mbr-iconfont mbr-iconfont-btn" style="font-size: 15px;"></span>Catégorisation&nbsp;&nbsp;</a>
        <a class="btn btn-md btn-primary" href="/msda-visualisation/#tabs3-4"><span class="mbri-right mbr-iconfont mbr-iconfont-btn" style="font-size: 15px;"></span>Accueil</a>
      </div> 

      <br>  
      <div class="row" id="field1">
        <h2>Classement de l'année 2019</h2>
        
      </div><br>
      <div class="row" id="field2">
        <h2>Classement de l'année 2010</h2>
        
      </div><br>
      <div class="row" id="field3">
        <h2>Classement de l'année 2005</h2>
        
      </div>
    </div>
</section>

<section class="cid-rXlyNE4hsZ mbr-reveal" id="footer6-9" data-rv-view="175">

    

    

    <div class="container">
        <div class="media-container-row align-center mbr-white">
            <div class="col-12">
                <p class="mbr-text mb-0 mbr-fonts-style display-7">
                    © MSDA 2020 - All Rights Reserved
                </p>
            </div>
        </div>
    </div>
</section>
<script src="script/draw3.js"></script>
<script>






</script>
<script>
    var annee = 2005;
    visualisation(annee);
    
    

    //Call function to draw the Radar chart
    function visualisation(annee){
      Promise.all([
          d3.csv("donnees/donnees_benin.csv"),
          d3.csv("donnees/donnees_burkina.csv"),
          d3.csv("donnees/donnees_cabo_verde.csv"),
          d3.csv("donnees/donnees_cote_divoire.csv"),
          d3.csv("donnees/donnees_gambie.csv"),
          d3.csv("donnees/donnees_ghana.csv"),
          d3.csv("donnees/donnees_guinee.csv"),
          d3.csv("donnees/donnees_guinee_bissau.csv"),
          d3.csv("donnees/donnees_liberia.csv"),
          d3.csv("donnees/donnees_mali.csv"),
          d3.csv("donnees/donnees_niger.csv"),
          d3.csv("donnees/donnees_nigeria.csv"),
          d3.csv("donnees/donnees_senegal.csv"),
          d3.csv("donnees/donnees_sierra_leone.csv"),
          d3.csv("donnees/donnees_togo.csv"),
        ])
        .then(files =>{
          var donnees_benin           = files[0];
          var donnees_burkina         = files[1];
          var donnees_cabo_verde      = files[2];
          var donnees_cote_divoire    = files[3];
          var donnees_gambie          = files[4];
          var donnees_ghana           = files[5];
          var donnees_guinee          = files[6];
          var donnees_guinee_bissau   = files[7];
          var donnees_liberia         = files[8];
          var donnees_mali            = files[9];
          var donnees_niger           = files[10];
          var donnees_nigeria         = files[11];
          var donnees_senegal         = files[12];
          var donnees_sierra_leone    = files[13];
          var donnees_togo            = files[14];

          var pays = ["Bénin","Burkina Faso","Cap-Vert","Côte d'Ivoire","Gambie","Ghana","Guinée","Guinée Bissau","Libéria","Mali","Niger","Nigéria","Sénégal","Sierra Léone","Togo"];


          var colonnes = donnees_senegal.columns;

          function list_max(a,tableau) {
            var max1 = Math.max.apply(Math, (tableau.filter(el => (el.Indicateur === a))).map(function(o) { return o.valeur_2005; }));
            var max2 = Math.max.apply(Math, (tableau.filter(el => (el.Indicateur === a))).map(function(o) { return o.valeur_2010; }));
            var max3 = Math.max.apply(Math, (tableau.filter(el => (el.Indicateur === a))).map(function(o) { return o.valeur_2019; }));

            return Math.max(max1,max2,max3);
          }

          var part_1 = [...donnees_benin,...donnees_burkina,...donnees_cabo_verde];
          var part_2 = [...donnees_cote_divoire,...donnees_gambie,...donnees_ghana];
          var part_3 = [...donnees_guinee,...donnees_guinee_bissau,...donnees_liberia];
          var part_4 = [...donnees_mali,...donnees_niger,...donnees_nigeria];
          var part_5 = [...donnees_senegal,...donnees_sierra_leone,...donnees_togo];
          

          function all_parts_max(modalite,partie1,partie2,partie3,partie4,partie5){
            var lm1 = list_max(modalite,partie1);
            var lm2 = list_max(modalite,partie2);
            var lm3 = list_max(modalite,partie3);
            var lm4 = list_max(modalite,partie4);
            var lm5 = list_max(modalite,partie5);

            return Math.max(lm1,lm2,lm3,lm4,lm5);
          }

          // X axis
          

          
          var max_PIB = all_parts_max("PIB",part_1,part_2,part_3,part_4,part_5);
          
          var max_taux_PIB = all_parts_max("taux_PIB",part_1,part_2,part_3,part_4,part_5);
          
          var max_PIB_par_habitant = all_parts_max("PIB_par_habitant",part_1,part_2,part_3,part_4,part_5);
          
          var max_pourcentage_va_agriculture = all_parts_max("pourcentage_va_agriculture",part_1,part_2,part_3,part_4,part_5);
          
          var max_pourcentage_va_industrie = all_parts_max("pourcentage_va_industrie",part_1,part_2,part_3,part_4,part_5);
          
          var max_services_et_autres = all_parts_max("services_et_autres",part_1,part_2,part_3,part_4,part_5);
          
          var max_taux_emploi_agriculture = all_parts_max("taux_emploi_agriculture",part_1,part_2,part_3,part_4,part_5);
          
          var max_taux_emploi_industrie = all_parts_max("taux_emploi_industrie",part_1,part_2,part_3,part_4,part_5);
          
          var max_taux_emploi_services = all_parts_max("taux_emploi_services",part_1,part_2,part_3,part_4,part_5);
          
          var max_taux_chomage = all_parts_max("taux_chomage",part_1,part_2,part_3,part_4,part_5);
          
          var max_population_active_femmes = all_parts_max("population_active_femmes",part_1,part_2,part_3,part_4,part_5);
          
          var max_population_active_hommes = all_parts_max("population_active_hommes",part_1,part_2,part_3,part_4,part_5);
          
          var max_IPC = all_parts_max("IPC",part_1,part_2,part_3,part_4,part_5);
          
          var max_indice_production_agricole = all_parts_max("indice_production_agricole",part_1,part_2,part_3,part_4,part_5);

          var max_indice_production_industrielle = all_parts_max("indice_production_industrielle",part_1,part_2,part_3,part_4,part_5);
          
          var max_commerce_international_export = all_parts_max("commerce_international_export",part_1,part_2,part_3,part_4,part_5);
          
          var max_commerce_international_import = all_parts_max("commerce_international_import",part_1,part_2,part_3,part_4,part_5);
          
          var max_commerce_international_balance = all_parts_max("commerce_international_balance",part_1,part_2,part_3,part_4,part_5);
          
          var max_balance_paiements = all_parts_max("balance_paiements",part_1,part_2,part_3,part_4,part_5);

          var all_maxes = 
          {
            "max_PIB"                           : max_PIB,
            "max_taux_PIB"                      : max_taux_PIB,
            "max_PIB_par_habitant"              : max_PIB_par_habitant,
            "max_pourcentage_va_agriculture"    : max_pourcentage_va_agriculture,
            "max_pourcentage_va_industrie"      : max_pourcentage_va_industrie,
            "max_services_et_autres"            : max_services_et_autres,
            "max_taux_emploi_agriculture"       : max_taux_emploi_agriculture,
            "max_taux_emploi_industrie"         : max_taux_emploi_industrie,
            "max_taux_emploi_services"          : max_taux_emploi_services,
            "max_taux_chomage"                  : max_taux_chomage,
            "max_population_active_femmes"      : max_population_active_femmes,
            "max_population_active_hommes"      : max_population_active_hommes,
            "max_IPC"                           : max_IPC,
            "max_indice_production_agricole"    : max_indice_production_agricole,
            "max_indice_production_industrielle": max_indice_production_industrielle,
            "max_commerce_international_export" : max_commerce_international_export,
            "max_commerce_international_import" : max_commerce_international_import,
            "max_commerce_international_balance": max_commerce_international_balance,
            "max_balance_paiements"             : max_balance_paiements,
          };
          


          var data_set = function(annee,donnees){
            var chart_datas = [];

            var M = 0;
            var T = "";
            var word = "";


            for (var y = 0; y < pays.length; y++) {
              // pays[y]
              chart_datas[y] = Array.from({length:donnees.length}, _ => ({area:"",value:0}));

              for (var i = 0; i < files[y].length; i++) {
              
                T = String('max_'+files[y][i].Indicateur);
                M = all_maxes[T];
                if(typeof chart_datas[y][i] !== "undefined"){
                  T = String('max_'+files[y][i].Indicateur);
                  M = all_maxes[T];
                  // console.log(T);
                  // console.log(M);

                  word = files[y][i].Indicateur;
                  // word = word.replace(/_/g, " ");
                  // word = word.replace(/taux/g, "%");
                  // word = word.replace(/pourcentage/g, "%");
                  // word = word.replace(/population/g, "Pop.");
                  // word = word.replace(/hommes/g, "♂");
                  // word = word.replace(/femmes/g, "♀");
                  // word = word.replace(/chomage/g, "chôm.");
                  // word = word.replace(/indice/g, "ind.");
                  // word = word.replace(/production/g, "prod.");
                  // word = word.replace(/commerce international/g, "Com. Inter.");
                  chart_datas[y][i].area = word;
                  chart_datas[y][i].value = ((files[y][i]["valeur_"+annee]*100)/M);
                  
                  
                }
              }
              chart_datas[y] = chart_datas[y].filter(el => {
                return (el.valeur_2005 !== 0);
              });
            }
            return chart_datas;
          }
          
            // console.log(Math.abs(-100));



            var uniform_2005 = data_set(2005, files[0]);
        var uniform_2010 = data_set(2010, files[0]);
        var uniform_2019 = data_set(2019, files[0]);

        function extraction_variable(variable,income){
          var dd = [];

          for (var i = 0; i < pays.length; i++) {
            var aa = income[i].find(function(e){ return e.area == variable; });
            dd[i] = [];
            dd[i]["num_pays"] = i;
            dd[i]["points"] = [];

            if (typeof aa != "undefined") {
              dd[i]["value"] = aa.value;
            }else{
              dd[i]["value"] = 0;
            }

          }
          return dd;
        } 

        function sorted_variables(income){
          var new_datas = [];
          for (var i = 0; i < files[0].length; i++) {
            new_datas[files[0][i].Indicateur] = extraction_variable(files[0][i].Indicateur,income);
            
            new_datas[files[0][i].Indicateur] = new_datas[files[0][i].Indicateur].sort(function(a,b){ return b.value - a.value; });
            var points = 15;
            for (var j = 0; j < new_datas[files[0][i].Indicateur].length; j++) {
              if (j>0 && new_datas[files[0][i].Indicateur][j].value < new_datas[files[0][i].Indicateur][j-1].value) {
                points--;
              }
              new_datas[files[0][i].Indicateur][j].points.push(points);
            }
          }
          return new_datas;
        }

        var final_datas = [];
        final_datas[2005] = sorted_variables(uniform_2005);
        final_datas[2010] = sorted_variables(uniform_2010);
        final_datas[2019] = sorted_variables(uniform_2019);

        var json_final = [];
        function final_extraction(annee){
          json_f = [];
          for (var j = 0; j < pays.length; j++) {
            json_f[j] = [];
            json_f[j].pays = pays[j];
            json_f[j].value = 0;
            for (var k = 0; k < files[j].length; k++) {
              json_f[j].value += final_datas[annee][files[0][k].Indicateur].find(function(e){ return e.num_pays == j; }).points[0];
            }
          }
          return json_f;
        }
        json_final["2005"] = final_extraction(2005);
        json_final["2010"] = final_extraction(2010);
        json_final["2019"] = final_extraction(2019);

        
        console.log(d3.max(json_final["2005"], function(e){ return e.value}));
        console.log(json_final["2005"]);
          

        ///////////////////////////////////////////////////////////////////
        // REPRESENTATION DES DONNEES /////////////////////////////////////
        ///////////////////////////////////////////////////////////////////
        var element = d3.select("#field3");
        draw(json_final["2005"],2005,element);

        var element = d3.select("#field2");
        draw(json_final["2010"],2010,element);

        var element = d3.select("#field1");
        draw(json_final["2019"],2019,element);



    });
    }
      
    </script>


  <script src="assets/web/assets/jquery/jquery.min.js"></script>
  <script src="assets/tether/tether.min.js"></script>
  <script src="assets/bootstrap/js/bootstrap.min.js"></script>
  <script src="assets/smooth-scroll/smooth-scroll.js"></script>
  <script src="assets/dropdown/js/script.min.js"></script>
  <script src="assets/touch-swipe/jquery.touch-swipe.min.js"></script>
  <script src="assets/theme/js/script.js"></script>
  <div id=scrollToTop class="scrollToTop mbr-arrow-up"><a style="text-align: center;"><i class="mbri-arrow-down mbr-arrow-up-icon-cm cm-icon cm-icon-smallarrow-up"></i></a></div>
  
</body>
</html>